(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{130:function(e,a,t){e.exports=t.p+"static/media/cocktail.f073f44b.png"},142:function(e,a,t){e.exports=t(173)},147:function(e,a,t){},173:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(12),l=t.n(r),s=(t(147),t(7)),i=t(61),o=t(6),m=t.n(o),u="useApiRequest/",d="".concat(u,"FETCHING"),p="".concat(u,"SUCCESS"),E="".concat(u,"ERROR"),f=c.a.createContext(),v={status:null,response:null,users:[{firstName:"Helga",email:"some@some.com"}],user:{firstName:"Helga",isAdmin:!0},isLogged:!0,userIsExist:!1,registerFirst:!1,successRegistered:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a.type,n=a.payload;switch(t){case d:return Object(i.a)(Object(i.a)({},v),{},{status:d});case p:return Object(i.a)(Object(i.a)({},e),{},{status:p,payload:n});case E:return Object(i.a)(Object(i.a)({},e),{},{status:E,payload:n});case"LOGIN":var c=n,r=m.a.filter(e.users,(function(e){return e.email===c.email}));return m.a.isEmpty(r)?m.a.assign({},e,{user:{},isLogged:!1,registerFirst:!0}):m.a.assign({},e,{user:m.a.first(r),isLogged:!0,registerFirst:!1});case"LOGOUT":return m.a.assign({},e,{user:{},isLogged:!1});case"SIGNIN":var l=n,s=m.a.cloneDeep(e.users),o=m.a.some(e.users,(function(e){return e.email===n.email}));return s.push(l),o?m.a.assign({},e,{userIsExist:!0}):m.a.assign({},e,{users:s,successRegistered:!0,userIsExist:!1});default:return e}},b=t(10),h=t(121),k=t.n(h);var N=function(){return c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"top-buttons list"},c.a.createElement(b.c,{to:"/",className:"flex"},c.a.createElement(k.a,null),c.a.createElement("span",null,"Local bar"))),c.a.createElement("div",{className:"main-menu"},c.a.createElement("div",{className:"list"},m.a.map([{link:"cocktails",name:"Cocktails"},{link:"categories",name:"Categories"},{link:"glasses",name:"Glasses"},{link:"ingredients",name:"Ingredients"},{link:"cocktail-type",name:"Cocktail's type"}],(function(e){var a=e.name,t=e.link;return c.a.createElement(b.c,{key:a,to:"/".concat(t)},a)})),c.a.createElement("hr",null),c.a.createElement(b.c,{to:"/random"},"Random"),c.a.createElement(b.c,{to:"/test"},"Test memo and callback"))))},x=t(208),w=t(215);var j=function(){return c.a.createElement(f.Consumer,null,(function(e){var a=e.state,t=e.dispatch,n=a.isLogged,r=a.user;return c.a.createElement("div",{className:"header"},n&&c.a.createElement("div",{className:"flex flex-space-between"},c.a.createElement("div",{className:"user flex flex-center"},c.a.createElement(w.a,{className:"avatar",alt:"Remy Sharp",src:"https://www.tm-town.com/assets/default_female600x600-3702af30bd630e7b0fa62af75cd2e67c.png"}),c.a.createElement("h3",null,r.firstName)),c.a.createElement(x.a,{color:"primary",onClick:function(){return t({type:"LOGOUT"})}},"Log out")),!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement(b.b,{to:"/login"},c.a.createElement(x.a,{color:"primary"},"Login")),c.a.createElement(b.b,{to:"/register"},c.a.createElement(x.a,{color:"primary"},"Sign In"))))}))},O=t(14);var y=function(e){var a=e.component;return c.a.createElement(f.Consumer,null,(function(e){return e.state.user.isAdmin?c.a.createElement(a,null):c.a.createElement("div",{style:{margin:"50px"}},"Sorry, you don't have rights to watch this page")}))},C=t(217),S=t(106),I=t.n(S),R=t(125),L=t(45),G=t.n(L),q=function(){return{type:d}},A=function(e){return{type:p,payload:e}},T=function(e){return{type:E,payload:e}},F=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a.verb,c=void 0===t?"get":t,r=a.params,l=void 0===r?{}:r,i=Object(n.useReducer)(g,v),o=Object(s.a)(i,2),m=o[0],u=o[1],d=Object(n.useCallback)(Object(R.a)(I.a.mark((function a(){var t;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return u(q()),a.prev=1,a.next=4,G.a[c](e,l);case 4:t=a.sent,setTimeout((function(){u(A(t.data))}),1e3),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),u(T(a.t0));case 11:case"end":return a.stop()}}),a,null,[[1,8]])}))),[e,c,l]);return[m,d]};var D=function(e){var a=e.status,t=e.children;return c.a.createElement("div",null,a===d&&c.a.createElement("div",{className:"loading"}),a===p&&t,(a===E||a===p)&&!t&&c.a.createElement("div",{className:"error-text"},"Ooooops nothing is here"))};var P=Object(O.f)((function(e){var a=e.drinks,t=e.history;return c.a.createElement("div",{className:"cocktails-list"},m.a.map(a,(function(e){var a=e.strAlcoholic,n=e.strGlass,r=e.strCategory,l=e.strDrinkThumb,s=e.strDrink;return c.a.createElement("div",{onClick:function(){return t.push("/cocktail/".concat(e.idDrink))},key:e.idDrink+e.strCategory,className:"cocktail-wrapper"},l&&c.a.createElement("div",{className:"cocktail-image"},c.a.createElement("img",{src:l||"https://thaibah.com/dev/assets/img/default-img.jpg",alt:""})),c.a.createElement("div",{className:"cocktail-info"},c.a.createElement("div",{className:"cocktail-name"},s||""),c.a.createElement("div",{className:"cocktail-ingredients"},a&&c.a.createElement("span",null,c.a.createElement("b",null,"Alco:")," ",a),n&&c.a.createElement("span",null,c.a.createElement("b",null,"Glass:")," ",n),r&&c.a.createElement("span",null,c.a.createElement("b",null,"Category:")," ",r))))})))}));var U=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],r=a[1],l=F("https://www.thecocktaildb.com/api/json/v1/1/search.php?f=".concat(t||"a")),i=Object(s.a)(l,2),o=i[0],m=o.status,u=o.payload,d=i[1];return Object(n.useEffect)((function(){d()}),[]),c.a.createElement("div",{className:"cocktails-page"},c.a.createElement("div",{className:"search"},c.a.createElement("span",{className:"search-by"},"Search: ",t||"A"),c.a.createElement(C.a,{className:"search-input",color:"primary",value:t,onChange:function(e){var a=e.target.value;r(void 0===a?"":a)},placeholder:"Search by letter",inputProps:{"aria-label":"search"}}),c.a.createElement(x.a,{onClick:d},"Search")),c.a.createElement(D,{status:m},u&&c.a.createElement(P,{drinks:u.drinks})))};var _=function(){var e=F("https://www.thecocktaildb.com/api/json/v1/1/list.php?c=list"),a=Object(s.a)(e,2),t=a[0],n=t.status,r=t.payload,l=a[1];return c.a.createElement("div",null,c.a.createElement(x.a,{className:"get-cocktail",onClick:l},"load categories"),!r&&c.a.createElement("p",null,"nothing is here"),c.a.createElement(D,{status:n},r&&c.a.createElement(P,{drinks:r.drinks,categories:!0})))};var V=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],r=a[1];return Object(n.useEffect)((function(){G.a.get("https://www.thecocktaildb.com/api/json/v1/1/list.php?g=list").then((function(e){var a=e.data;a.drinks&&r(a.drinks)})).catch((function(e){return console.log(e)}))}),[]),c.a.createElement("div",{className:"cocktails-list flex"},m.a.map(t,(function(e){var a=e.strGlass;return c.a.createElement(b.c,{to:"/glasses/".concat(a),key:a,className:"cocktail-wrapper flex flex-start"},c.a.createElement("div",{className:"cocktail-name"},a||"no name"))})))};var W=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],r=a[1];return Object(n.useEffect)((function(){G.a.get("https://www.thecocktaildb.com/api/json/v1/1/list.php?i=list").then((function(e){var a=e.data;a.drinks&&r(a.drinks)})).catch((function(e){return console.log(e)}))}),[]),c.a.createElement("div",{className:"cocktails-list flex"},m.a.map(t,(function(e){var a=e.strIngredient1;return console.log(a,"cocktail"),c.a.createElement(b.c,{to:"/ingredients/".concat(a),key:a,className:"cocktail-wrapper flex flex-start"},c.a.createElement("div",{className:"cocktail-name"},a||"no name"))})))},H=t(131),J=t(210),B=t(214),M=t(211),z=t(213),$=t(209);function K(e){var a=e.children,t=e.value,n=e.index,r=Object(H.a)(e,["children","value","index"]);return c.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),t===n&&c.a.createElement(z.a,{p:3},c.a.createElement("span",null,a)))}var Q=Object($.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function X(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Y=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),o=i[0],u=i[1],d=Q(),p=c.a.useState(0),E=Object(s.a)(p,2),f=E[0],v=E[1],g=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(!0),v(a);var t=m.a.get(e,["currentTarget","name"],"");G.a.get("https://www.thecocktaildb.com/api/json/v1/1/filter.php?".concat(t?"a=".concat(t):"c=Ordinary_Drink")).then((function(e){var a=e.data;a.drinks&&(r(a.drinks),setTimeout((function(){u(!1)}),1e3))})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){g()}),[]),c.a.createElement("div",{className:d.root},c.a.createElement(J.a,{position:"static",className:"tab-header"},c.a.createElement(B.a,{value:f,onChange:g,"aria-label":"simple tabs example"},c.a.createElement(M.a,Object.assign({label:"Ordinary"},X(0))),c.a.createElement(M.a,Object.assign({name:"Alcoholic",label:"Non Alcoholic"},X(1))),c.a.createElement(M.a,Object.assign({label:"Non_Alcoholic"},X(2))))),c.a.createElement(K,{value:f,index:0},!o&&c.a.createElement(P,{drinks:t})),c.a.createElement(K,{value:f,index:1},!o&&c.a.createElement(P,{drinks:t})),c.a.createElement(K,{value:f,index:2},!o&&c.a.createElement(P,{drinks:t})),o&&c.a.createElement("div",{className:"loading"}))},Z=t(96),ee=t(212),ae=t(37),te=t(129),ne=t.n(te),ce=function(){return c.a.createElement("div",{className:"success flex flex-column flex-center"},c.a.createElement("span",null,"Success"),c.a.createElement(ne.a,{style:{fontSize:40}}))},re=ae.a({password:ae.b().required("Password name is Required"),email:ae.b().email().required("Email is Required")}),le=function(){var e=Object(Z.a)({initialValues:{password:"",email:""},validationSchema:re,onSubmit:function(e){}}),a=e.handleSubmit,t=e.values,n=e.errors,r=e.handleChange;return c.a.createElement(f.Consumer,null,(function(e){var l=e.state,s=e.dispatch,i=l.isLogged,o=l.registerFirst;return c.a.createElement("div",{className:"login-page"},!i&&c.a.createElement("form",{onSubmit:a,className:"flex flex-column"},n.email,c.a.createElement(ee.a,{className:"text-field",id:"email",name:"email",type:"email",variant:"outlined",label:"Email",onChange:r,value:t.email}),n.password,c.a.createElement(ee.a,{className:"text-field",id:"password",name:"password",type:"password",variant:"outlined",label:"Password",onChange:r,value:t.password}),c.a.createElement(x.a,{onClick:function(){return s({type:"LOGIN",payload:t})},type:"submit"},"Login")),i&&c.a.createElement(ce,null),o&&"User doesn't exist, please sign in first")}))};var se=function(){var e=F("https://www.thecocktaildb.com/api/json/v1/1/random.php"),a=Object(s.a)(e,2),t=a[0],n=t.status,r=t.payload,l=a[1];return c.a.createElement("div",null,c.a.createElement("div",{className:"cocktails-list flex flex-column center"},c.a.createElement(x.a,{onClick:l}," show Random "),c.a.createElement(D,{status:n},r&&c.a.createElement(P,{drinks:r.drinks}))))},ie=ae.a({firstName:ae.b().min(8).required("First name is Required, min 8char"),lastName:ae.b().required("Last name is Required"),email:ae.b().email().required("Email is Required"),password:ae.b().required("Password is Required")}),oe=function(){var e=Object(Z.a)({initialValues:{firstName:"",lastName:"",email:""},validationSchema:ie,onSubmit:function(e){}}),a=e.handleSubmit,t=e.values,n=e.errors,r=e.handleChange;return c.a.createElement(f.Consumer,null,(function(e){var l=e.state,s=e.dispatch,i=l.successRegistered,o=l.userIsExist;return i?c.a.createElement(ce,null):c.a.createElement("div",{className:"register-page"},o&&c.a.createElement("p",null,"User is exist, please try another one or login"),c.a.createElement("form",{onSubmit:a,className:"flex flex-column"},n.firstName,c.a.createElement(ee.a,{className:"text-field",id:"firstName",name:"firstName",type:"text",variant:"outlined",label:"First Name",onChange:r,value:t.firstName}),n.lastName,c.a.createElement(ee.a,{className:"text-field",id:"lastName",name:"lastName",type:"text",variant:"outlined",label:"Last Name",onChange:r,value:t.lastName}),n.email,c.a.createElement(ee.a,{className:"text-field",id:"email",name:"email",type:"email",variant:"outlined",label:"Email",onChange:r,value:t.email}),n.password,c.a.createElement(ee.a,{className:"text-field",id:"password",name:"password",type:"password",variant:"outlined",label:"Password",onChange:r,value:t.password}),c.a.createElement(x.a,{onClick:function(){return s({type:"SIGNIN",payload:t})},type:"submit"},"Sign In")))}))},me=t(130),ue=t.n(me);var de=function(){return c.a.createElement("div",{className:"main-page"},c.a.createElement("img",{src:ue.a,alt:"base_image"}),c.a.createElement("h1",null,"Welcome to TheCocktail"),c.a.createElement("p",null,"An open, crowd-sourced database of drinks and cocktails from around the world. We also offer a free JSON API for anyone wanting to use it. If you like the site, please consider supporting us on Patreon by clicking the link below..."))},pe=t(74),Ee=t.n(pe);var fe=Object(O.f)((function(e){var a=m.a.get(e,["match","params","id"],"11007"),t=F("https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=".concat(a)),r=Object(s.a)(t,2),l=r[0],i=l.status,o=l.payload,u=r[1],d=/strIngredient.+/;Object(n.useEffect)((function(){u()}),[]);var p=m.a.first(m.a.get(o,"drinks",[])),E=m.a.map(p,(function(e,a){if(d.test(a)&&e)return{ingredient:{name:e,link:"https://www.thecocktaildb.com/images/ingredients/".concat(m.a.toLower(e),".png")}}})).filter((function(e){return!!e}));return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.c,{className:"back-button flex flex-align-start",to:"/cocktails"},c.a.createElement(Ee.a,null),c.a.createElement("span",null,"Go back"))),c.a.createElement("br",null),c.a.createElement(D,{status:i},o&&c.a.createElement("div",{className:"info-section flex flex-column flex-center"},p.strTags&&c.a.createElement("div",{className:"tag"},p.strTags),c.a.createElement("div",null,c.a.createElement("img",{src:p.strDrinkThumb,alt:""})),c.a.createElement("div",{className:"ingrediets"},c.a.createElement("h1",null,p.strDrink),c.a.createElement("p",null,p.strInstructions),c.a.createElement("h3",null,p.strGlass),c.a.createElement("div",{className:"flex flex-center"},m.a.map(E,(function(e){var a=e.ingredient,t=a.name,n=a.link;return c.a.createElement("div",{key:t,className:"flex flex-center flex-wrap"},c.a.createElement("img",{className:"small-img",src:n,alt:t}),c.a.createElement("span",null,t))})))))))}));var ve=Object(O.f)((function(e){var a=m.a.get(e,["match","params","name"],"Vodka"),t=F("https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=".concat(a)),r=Object(s.a)(t,2),l=r[0],i=l.status,o=l.payload,u=r[1];return Object(n.useEffect)((function(){u()}),[]),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.c,{className:"back-button flex flex-align-start",to:"/ingredients"},c.a.createElement(Ee.a,null),c.a.createElement("span",null,"Go back"))),c.a.createElement(D,{status:i},o&&c.a.createElement(P,{drinks:o.drinks})))}));var ge=Object(O.f)((function(e){var a=m.a.get(e,["match","params","name"],"Vodka"),t=F("https://www.thecocktaildb.com/api/json/v1/1/filter.php?g=".concat(a)),r=Object(s.a)(t,2),l=r[0],i=l.status,o=l.payload,u=r[1];return Object(n.useEffect)((function(){u()}),[]),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(b.c,{className:"back-button flex flex-align-start",to:"/ingredients"},c.a.createElement(Ee.a,null),c.a.createElement("span",null,"Go back"))),c.a.createElement(D,{status:i},o&&c.a.createElement(P,{drinks:o.drinks})))})),be=function(e){var a=e.action,t=Object(n.useState)(0),r=Object(s.a)(t,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){var e=a();i(e)}),[a]),c.a.createElement(c.a.Fragment,null,"Child: ",l)};var he=function(){var e=Object(n.useState)(0),a=Object(s.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)(0),i=Object(s.a)(l,2),o=i[0],m=i[1],u=Object(n.useCallback)((function(){return console.log(t,"callback called"),t}),[t]);return Object(n.useMemo)((function(){console.log(o,"memo called")}),[o]),c.a.createElement(c.a.Fragment,null,c.a.createElement(be,{action:u}),c.a.createElement("button",{onClick:function(){return r(t+1)}}," Change callback "),c.a.createElement("button",{onClick:function(){return m(o+1)}}," Change memo "))};var ke=function(){return c.a.createElement(O.c,null,c.a.createElement(O.a,{path:"/",exact:!0,component:de}),c.a.createElement(O.a,{path:"/cocktails",exact:!0,component:U}),c.a.createElement(O.a,{path:"/cocktail/:id",exact:!0,component:fe}),c.a.createElement(O.a,{path:"/random",exact:!0,component:se}),c.a.createElement(O.a,{path:"/test",exact:!0,component:he}),c.a.createElement(O.a,{path:"/login",exact:!0,component:le}),c.a.createElement(O.a,{path:"/register",exact:!0,component:oe}),c.a.createElement(y,{path:"/categories",exact:!0,component:_}),c.a.createElement(O.a,{path:"/categories",exact:!0,component:_}),c.a.createElement(O.a,{path:"/glasses",exact:!0,component:V}),c.a.createElement(O.a,{path:"/glasses/:name",exact:!0,component:ge}),c.a.createElement(O.a,{path:"/ingredients",exact:!0,component:W}),c.a.createElement(O.a,{path:"/ingredients/:name",exact:!0,component:ve}),c.a.createElement(O.a,{path:"/cocktail-type",exact:!0,component:Y}))};var Ne=function(){return c.a.createElement("div",{className:"App flex"},c.a.createElement(N,null),c.a.createElement("div",{className:"body"},c.a.createElement(j,null),c.a.createElement(ke,null)))},xe=function(){var e=Object(n.useReducer)(g,v),a=Object(s.a)(e,2),t=a[0],r=a[1];return Object(n.useEffect)((function(){}),[]),c.a.createElement(f.Provider,{value:{dispatch:r,state:t}},c.a.createElement(Ne,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b.a,{basename:"/cocktail_project"},c.a.createElement(xe,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[142,1,2]]]);
//# sourceMappingURL=main.b27c0471.chunk.js.map